<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<script type="text/javascript">
			function init(){
				document.getElementById("raum_selected_r_index").selectedIndex=0;			
			}

			function set_disabled(){			
				var val =document.getElementById("raum_selected_r_index").selectedIndex;			
				if (val == 0)
				{
					document.getElementById('info').style.visibility = 'hidden';
					document.getElementById('div_ausst').style.visibility='visible';
					document.getElementById('div_anz').style.visibility='visible';
				}
				else
				{
					document.getElementById('info').style.backgroundColor= "rgb(230, 210, 211)";
					document.getElementById('info').style.visibility = 'visible';
	
					<% @raums.each do |raum| %>					
					
					if (val ==<%= raum.id%>)
					
					{							
						document.getElementById('info').value = 'Lage: ' + '<%= raum.etage%>' +	'; Grösse: '+ '<%= raum.groesse%>' + ' m2' + '; Kapazität: '+ '<%= raum.pers_anz%>';
					}
					<%end%>					
					document.getElementById('div_ausst').style.visibility = 'hidden';
					document.getElementById('div_anz').style.visibility = 'hidden';
				}
			}
		</script>
	</head>
	
	<body onLoad ='init()'>

		<div class="villaMenus">
			<ul>
				<li><a href="/static/l1_buchen" target="_self" class="lev1">Konferenz- und Tagungsr&auml;ume</a></li>
				<li><a href="/raums" target="_self" class="lev1akt">Verf&uuml;gbarkeit pr&uuml;fen</a></li>
				<li><a href="/buchungs/new" target="_self" class="lev1">Online buchen</a></li>
				<li><a href="/l2_anfrage.html" target="_self" class="lev1">Anfrage/Reservierung</a></li>
				<li><a href="l1_kontakt.htm" target="_self" class="lev1">Kontakt</a></li>
			</ul>
		</div>
	     
		<div id="content_middle">
			<br/>
			<p class="head">Verf&uuml;gbarkeit pr&uuml;fen</p>
			<br/>
			<table cellpadding="0" cellspacing="0" border="0">
				<td width="380">											
					<%=form_tag :action=>'verfuegbarkeit' do%>
					<p>
						Auswahl Zeitraum
						</br>	
						<%= date_select("select_d", "written_on", :start_year =>Time.now.year, :end_year =>Time.now.year+5, :discard_day => true, :order => [ :month, :year] )%>								
					</p>
					<div class="field">									
						<p>								
							Auswahl Raum
							</br>									
							
							<%= collection_select(:raum, :selected_r_index, Raum.all, :id, :name, {:prompt=>"Alle Räume"}, {:onchange => "set_disabled()"}) %> 
							<%= text_field_tag :info, nil, :size => 35, :style => 'border-style: none; color: rgb(55, 88, 115); visibility: hidden;', :disabled => true%>																													
						</p>
					</div>
					<div id="div_anz" class="field">
						<p>								
							Anzahl Teilnehmer
							</br>
							<%= text_field_tag :pers_anz, nil, :onblur=>"if (this.value >120){alert('Die Kapazität des größten Raumes: 120 Personen. Bei Teilnahme von mehr als 120 Personen wenden Sie sich bitte an uns');}"%>								
						</p>
					</div>
		
					<div id="div_ausst" style="border-width: 2px;">
						<p>
							Ausstattung
							</br>
							<% for ausstattung in @ausst %>
								<%= check_box_tag 'ausstattung[]', ausstattung.id %>																				
								<%= ausstattung.bezeichnung%>
								</br>
							<%end%>
						</p>
					</div>
		
					<%= submit_tag 'Verfügbarkeit anzeigen'%>
					<%end %>													
				</td>
			</table>
		</div>
		
		<div id="images_right">
			<div id="htwg_logo">
				<a href="http://www.htwg-konstanz.de" target="_blank"><img src="/assets/logo_htwg.jpg"></a>
			</div>
			<div id="villa_pic"/>
			<div id="villa_am_see">Villa am See</div>
		</div>
	</body>
</html>
